{% extends "base.html" %}

{% block title %}Inicio - Mi ADN{% endblock %}

{% block content %}
<div class="home-container">

    <section id="hero" class="hero left-align" data-image-url="{{ url_for('static', filename='img/fondo1.png') }}">
        <div class="overlay"></div>
        <div class="content">
            <h1>TRANSFORMA TU CÓDIGO</h1>
            <h4>ACTITUD DISCIPLINA NEOVITAL</h4>
            <p class="subtitle-hero">Te damos la mentalidad, el entrenamiento y la guía para construir el físico y la disciplina que siempre has querido</p>
        </div>
    </section>

    <section id="info" class="info right-align" data-image-url="{{ url_for('static', filename='img/fondo2.png') }}">
        <div class="overlay"></div>
        <div class="content">
            <h2>¿QUÉ ES ADN?</h2>
            <p>ADN es la platforma que te ofrece el plan de entrenamiento y nutrición tan único como tú. No creemos en soluciones universales; creemos en tu potencial. Es la clave para desbloquear tu mejor versión. Dejamos de lado las adivinanzas y el ensayo y error; empezamos a entrenar con un plan hecho científicamente solo para ti y tus necesidades específicas, garantizando resultados reales y sostenibles.</p>
        </div>
    </section>

    <section id="features" class="features center-align" data-image-url="{{ url_for('static', filename='img/fondo3.png') }}">
        <div class="overlay-dark"></div>
        <div class="content">
            <h2>EXPLORA TU ADN</h2>
            <p>Conoce más sobre tu cuerpo, tus hábitos y tus posibilidades a través de nuestras herramientas interactivas. Nuestros módulos de Estructura Corporal, Estructura Nutricional y la Calculadora de Estado están diseñados para darte una visión 360 de tu bienestar.</p>
        </div>

        <div class="cards">
            <div class="card" style="background-image: url('{{ url_for('static', filename='img/estructura1.png') }}');">
                <div class="card-hover">
                    <h3>Estructura Corporal</h3>
                    <p>Analiza tu composición física, mide tu progreso y optimiza tu rendimiento atlético.</p>
                </div>
            </div>

            <div class="card" style="background-image: url('{{ url_for('static', filename='img/estructura3.png') }}');">
                <div class="card-hover">
                    <h3>Estructura Nutricional</h3>
                    <p>Adapta tu alimentación según tus necesidades genéticas y metabólicas para una máxima absorción.</p>
                </div>
            </div>

            <div class="card" style="background-image: url('{{ url_for('static', filename='img/estructura2.png') }}');">
                <div class="card-hover">
                    <h3>Calculadora de Estado</h3>
                    <p>Descubre tu Índice de Masa Corporal (IMC) y realiza un análisis rápido de tu estado físico en segundos.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="about" class="about center-align" data-image-url="{{ url_for('static', filename='img/fondo4.png') }}">
        <div class="overlay"></div>
        
        <div class="content about-centered-column">
            <h2>¿QUIÉNES SOMOS?</h2>
            <p>Somos tu plataforma de fitness que elimina las conjeturas. Nuestra misión es la personalización absoluta:</p>
            
            <ul class="about-list"> 
                <li><strong>DIAGNÓSTICO CERTERO:</strong> Usamos nuestra calculadora de estado físico para un análisis preciso de tu condición actual.</li>
                <li><strong>PLANES A TU MEDIDA:</strong> Diseñamos rutinas de ejercicios y planes de nutrición creados solo para ti, basados en tus datos físicos y en tus metas.</li>
                <li><strong>RESULTADOS REALES:</strong> Te damos el mapa de ruta exacto que necesitas para transformar tu cuerpo y alcanzar tu máximo potencial.</li>
            </ul>
        </div>
    </section>

    <section id="contact" class="contact left-align" data-image-url="{{ url_for('static', filename='img/fondo5.png') }}">
        <div class="overlay"></div>
        <div class="content">
            <h2>CONTÁCTANOS</h2>
            <div class="socials">
                <a href="https://www.instagram.com/ADN_1325" target="_blank" class="contact-link">
                    <i class="fab fa-instagram"></i> @ADN_1325
                </a>

                <a href="https://www.facebook.com/ADN_1325" target="_blank" class="contact-link">
                    <i class="fab fa-facebook-f"></i> @ADN_1325
                </a>

                <a href="tel:+573214319033" class="contact-link">
                    <i class="fas fa-phone-alt"></i> +57 321 4319033
                </a>

                <a href="tel:+573228766062" class="contact-link">
                    <i class="fas fa-phone-alt"></i> +57 322 8766062
                </a>

                <a href="mailto:ADN1325@gmail.com" class="contact-link">
                    <i class="fas fa-envelope"></i> ADN1325@gmail.com
                </a>
            </div>

            <div class="image-text-group">
                <div class="image-item">
                    <img src="{{ url_for('static', filename='img/Diseñador.png') }}" alt="Análisis Bioméch.">
                    <p>DESARROLLADOR WEB</p>
                </div>
                <div class="image-item">
                    <img src="{{ url_for('static', filename='img/Diseñadora.png') }}" alt="ADN Nutrición">
                    <p>DISEÑADORA DIGITAL Y GRÁFICA</p>
                </div>
            </div>
        </div>
    </section>

</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const sections = document.querySelectorAll('.home-container section');
        const body = document.body;

        // Carga la primera imagen al inicio
        const initialImage = sections[0].getAttribute('data-image-url');
        if (initialImage) {
            body.style.backgroundImage = `url('${initialImage}')`;
            body.classList.add('smooth-scroll-animation'); 
        }
        
        // Función para cambiar el fondo
        let lastSectionUrl = initialImage;

        const updateBackground = () => {
            let currentSection = sections[0];
            let closestDistance = Infinity;
            const windowCenter = window.innerHeight / 2;

            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                const sectionCenter = rect.top + rect.height / 2;
                const distance = Math.abs(sectionCenter - windowCenter);

                if (distance < closestDistance) {
                    closestDistance = distance;
                    currentSection = section;
                }
            });

            const newImageUrl = currentSection.getAttribute('data-image-url');

            if (newImageUrl && newImageUrl !== lastSectionUrl) {
                if (!body.classList.contains('is-transitioning')) {
                    body.classList.add('is-transitioning');
                    
                    body.style.transition = 'background-image 0.5s ease-in-out';
                    
                    body.style.backgroundImage = `url('${newImageUrl}')`;
                    
                    setTimeout(() => {
                        body.classList.remove('is-transitioning');
                        body.style.transition = 'none';
                    }, 500);

                    lastSectionUrl = newImageUrl;
                }
            }
        };

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.5 
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    updateBackground();
                }
            });
        }, observerOptions);

        sections.forEach(section => observer.observe(section));
    });
</script>
{% endblock %}