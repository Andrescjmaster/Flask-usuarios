{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">💪 Rutinas de Entrenamiento</h2>
  <p class="text-center">Selecciona un entorno y descubre rutinas diseñadas para ese espacio.</p>

  <!-- TARJETAS DE CATEGORÍAS -->
  <div class="row mt-4">
    <!-- RUTINAS EN CASA -->
    <div class="col-md-4 mb-4">
      <div class="card p-3 shadow-sm h-100">
        <h5>🏠 Rutinas en Casa</h5>
        <p>Entrena desde la comodidad de tu hogar con poco o ningún equipo.</p>
        <button class="btn btn-primary w-100" type="button" onclick="toggleSection('casa')">Ver Rutinas</button>
        <div id="casa" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item rutina-item" onclick="mostrarRutinaDetallada('Rutina Full Body (sin pesas)')">Rutina Full Body (sin pesas)</li>
            <li class="list-group-item rutina-item" onclick="mostrarRutinaDetallada('Cardio 20 min en casa')">Cardio 20 min en casa</li>
            <li class="list-group-item rutina-item" onclick="mostrarRutinaDetallada('Yoga y estiramientos matutinos')">Yoga y estiramientos matutinos</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- RUTINAS LABORALES -->
    <div class="col-md-4 mb-4">
      <div class="card p-3 shadow-sm h-100">
        <h5>💼 Rutinas Laborales</h5>
        <p>Ejercicios cortos para realizar durante tu jornada laboral.</p>
        <button class="btn btn-primary w-100" type="button" onclick="toggleSection('laboral')">Ver Rutinas</button>
        <div id="laboral" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item rutina-item" onclick="mostrarRutinaDetallada('Ejercicios de estiramiento en oficina')">Ejercicios de estiramiento en oficina</li>
            <li class="list-group-item rutina-item" onclick="mostrarRutinaDetallada('Pausas activas de 10 minutos')">Pausas activas de 10 minutos</li>
            <li class="list-group-item rutina-item" onclick="mostrarRutinaDetallada('Movilidad cervical y lumbar')">Movilidad cervical y lumbar</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- RUTINAS AL AIRE LIBRE -->
    <div class="col-md-4 mb-4">
      <div class="card p-3 shadow-sm h-100">
        <h5>🌳 Rutinas al Aire Libre</h5>
        <p>Aprovecha el espacio exterior para entrenar y conectar con la naturaleza.</p>
        <button class="btn btn-primary w-100" type="button" onclick="toggleSection('airelibre')">Ver Rutinas</button>
        <div id="airelibre" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item rutina-item" onclick="mostrarRutinaDetallada('Caminata + trote ligero')">Caminata + trote ligero</li>
            <li class="list-group-item rutina-item" onclick="mostrarRutinaDetallada('Circuito de ejercicios en parque')">Circuito de ejercicios en parque</li>
            <li class="list-group-item rutina-item" onclick="mostrarRutinaDetallada('Entrenamiento con peso corporal')">Entrenamiento con peso corporal</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- SECCIÓN DETALLADA -->
  <div id="detalle-rutina" class="mt-5 p-4 rounded shadow-sm bg-light d-none">
    <h3 id="titulo-rutina" class="text-center mb-3"></h3>
    <p id="descripcion-rutina" class="text-center"></p>
    <hr>
    <ol id="pasos-rutina" class="list-group list-group-numbered"></ol>
  </div>
</div>

<!-- ESTILOS INTERACTIVOS -->
<style>
  .rutina-item {
    cursor: pointer;
    background-color: #f8f9fa;
    border: none;
    transition: all 0.3s ease;
    font-weight: 500;
    border-radius: 8px;
    margin-bottom: 8px;
    padding: 12px 15px;
    text-align: center;
  }

  .rutina-item:hover {
    background-color: #007bff;
    color: white;
    transform: scale(1.03);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  }

  .rutina-item:active {
    transform: scale(0.98);
  }
</style>

<script>
function toggleSection(id) {
  const section = document.getElementById(id);
  document.querySelectorAll('.rutina-section').forEach(sec => {
    if (sec !== section) sec.classList.remove('show');
  });
  section.classList.toggle('show');
}

function mostrarRutinaDetallada(nombre) {
  const detalle = document.getElementById('detalle-rutina');
  const titulo = document.getElementById('titulo-rutina');
  const descripcion = document.getElementById('descripcion-rutina');
  const pasos = document.getElementById('pasos-rutina');

  const rutinas = {
    "Rutina Full Body (sin pesas)": {
      descripcion: "Entrenamiento completo que trabaja todos los grupos musculares usando solo el peso corporal.",
      detalles: [
        "⏱️ Duración: 25 minutos",
        "📅 Frecuencia: 3-4 veces por semana",
        "🎯 Objetivo: fuerza y resistencia general",
        "💪 Beneficios: fortalece piernas, brazos y core"
      ],
      pasos: [
        "Calentamiento: 5 minutos de movilidad articular.",
        "3 rondas de 15 sentadillas, 10 flexiones y 20 abdominales.",
        "Plancha durante 30 segundos al final de cada ronda.",
        "Descanso de 45 segundos entre rondas.",
        "Estiramientos suaves de cuerpo completo."
      ]
    },
    "Cardio 20 min en casa": {
      descripcion: "Rutina rápida para mejorar resistencia cardiovascular y quemar calorías desde casa.",
      detalles: [
        "⏱️ Duración: 20 minutos",
        "📅 Frecuencia: 4-5 veces por semana",
        "🔥 Intensidad: moderada a alta",
        "🎯 Objetivo: resistencia y quema de grasa"
      ],
      pasos: [
        "5 minutos de calentamiento (marchas, giros de brazos).",
        "Circuito: jumping jacks, escaladores, sentadillas con salto, burpees (40 seg por ejercicio, 20 seg descanso).",
        "3 rondas completas.",
        "2 minutos de respiración profunda y estiramiento final."
      ]
    },
    "Yoga y estiramientos matutinos": {
      descripcion: "Ideal para comenzar el día con energía, conectar respiración y movimiento.",
      detalles: [
        "⏱️ Duración: 15-20 minutos",
        "📅 Frecuencia: diaria",
        "🧘 Nivel: suave / relajante",
        "🌅 Beneficios: mejora flexibilidad y concentración"
      ],
      pasos: [
        "Postura del gato y la vaca (1 minuto).",
        "Perro boca abajo + plancha (30 seg cada una).",
        "Postura del guerrero y torsiones suaves.",
        "Savasana (postura de relajación) durante 3 minutos."
      ]
    },
    "Ejercicios de estiramiento en oficina": {
      descripcion: "Movimientos ligeros para aliviar la tensión muscular durante la jornada.",
      detalles: [
        "⏱️ Duración: 8 minutos",
        "📅 Frecuencia: cada 2-3 horas",
        "🎯 Objetivo: prevenir rigidez muscular",
        "💼 Beneficios: mejora la circulación y concentración"
      ],
      pasos: [
        "Giros suaves de cuello y hombros.",
        "Estiramiento de espalda y brazos cruzados al frente.",
        "Flexión de muñecas y rotación de tobillos.",
        "Torsiones de tronco sentado.",
        "Respiración profunda durante 1 minuto."
      ]
    },
    "Pausas activas de 10 minutos": {
      descripcion: "Rompe la inactividad y reactiva el cuerpo con esta pausa revitalizante.",
      detalles: [
        "⏱️ Duración: 10 minutos",
        "📅 Frecuencia: 2 veces al día",
        "🎯 Objetivo: activar la circulación y oxigenar el cerebro",
        "💡 Beneficios: reduce estrés, mejora productividad"
      ],
      pasos: [
        "Camina alrededor del escritorio (1 minuto).",
        "Círculos con brazos y piernas (30 seg cada uno).",
        "Sentadillas y elevaciones de talones (3x15).",
        "Estiramiento de cuello y muñecas (1 minuto).",
        "Respiración profunda con ojos cerrados (30 segundos)."
      ]
    },
    "Movilidad cervical y lumbar": {
      descripcion: "Ayuda a liberar tensión acumulada en cuello y zona baja de la espalda.",
      detalles: [
        "⏱️ Duración: 12 minutos",
        "📅 Frecuencia: diaria o según necesidad",
        "🎯 Objetivo: mantener movilidad articular",
        "🩺 Beneficios: reduce dolor postural y rigidez"
      ],
      pasos: [
        "Inclinaciones laterales de cuello (10 repeticiones).",
        "Rotaciones de hombros y escápulas.",
        "Arqueo lumbar (postura gato-vaca).",
        "Estiramiento de espalda baja y respiración profunda."
      ]
    },
    "Caminata + trote ligero": {
      descripcion: "Ejercicio cardiovascular moderado que combina caminata y trote suave.",
      detalles: [
        "⏱️ Duración: 30-40 minutos",
        "📅 Frecuencia: 3-5 veces por semana",
        "🎯 Objetivo: resistencia cardiovascular",
        "🌿 Beneficios: mejora ánimo y salud del corazón"
      ],
      pasos: [
        "Camina 5 minutos para calentar.",
        "Alterna 5 min caminata + 3 min trote (30 min total).",
        "Mantén una respiración rítmica.",
        "Estira piernas y caderas al final (5 min)."
      ]
    },
    "Circuito de ejercicios en parque": {
      descripcion: "Usa elementos del entorno para un entrenamiento de cuerpo completo.",
      detalles: [
        "⏱️ Duración: 25-35 minutos",
        "📅 Frecuencia: 3 veces por semana",
        "💪 Nivel: intermedio",
        "🎯 Objetivo: fuerza, resistencia y coordinación"
      ],
      pasos: [
        "Dominadas o agarres en barra (10 reps).",
        "Fondos en banco (12 reps).",
        "Saltos al banco (10 reps).",
        "Abdominales o plancha en césped (1 minuto).",
        "Estiramientos generales (5 minutos)."
      ]
    },
    "Entrenamiento con peso corporal": {
      descripcion: "Fortalece tu cuerpo con ejercicios funcionales al aire libre.",
      detalles: [
        "⏱️ Duración: 25 minutos",
        "📅 Frecuencia: 3-4 veces por semana",
        "🏋️ Nivel: moderado",
        "💡 Beneficios: mejora fuerza, equilibrio y control corporal"
      ],
      pasos: [
        "Calentamiento articular (5 minutos).",
        "3 rondas de 15 flexiones, 20 sentadillas y 10 zancadas por pierna.",
        "Plancha de 45 segundos entre rondas.",
        "Saltos o skipping durante 1 minuto.",
        "Estiramientos finales (3 minutos)."
      ]
    }
  };

  const rutina = rutinas[nombre];
  if (!rutina) return;

  titulo.textContent = nombre;
  descripcion.innerHTML = `
    <p>${rutina.descripcion}</p>
    <ul class="list-unstyled text-start mx-auto" style="max-width:600px;">
      ${rutina.detalles.map(d => `<li>${d}</li>`).join("")}
    </ul>
  `;
  pasos.innerHTML = rutina.pasos.map(p => `<li class="list-group-item">${p}</li>`).join("");
  detalle.classList.remove("d-none");
  detalle.scrollIntoView({ behavior: "smooth" });
}
</script>
{% endblock %}
