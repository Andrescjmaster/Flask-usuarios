{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">💪 Rutinas de Entrenamiento</h2>
  <p class="text-center">Selecciona un entorno y descubre rutinas diseñadas para ese espacio.</p>

  <!-- TARJETAS DE CATEGORÍAS -->
  <div class="row mt-4">
    <!-- RUTINAS EN CASA -->
    <div class="col-md-4 mb-4">
      <div class="card p-3 shadow-sm h-100">
        <h5>🏠 Rutinas en Casa</h5>
        <p>Entrena desde la comodidad de tu hogar con poco o ningún equipo.</p>
        <button class="btn btn-primary w-100" type="button" onclick="toggleSection('casa')">
          Ver Rutinas
        </button>
        <div id="casa" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Rutina Full Body (sin pesas)')">Rutina Full Body (sin pesas)</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Cardio 20 min en casa')">Cardio 20 min en casa</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Yoga y estiramientos matutinos')">Yoga y estiramientos matutinos</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- RUTINAS LABORALES -->
    <div class="col-md-4 mb-4">
      <div class="card p-3 shadow-sm h-100">
        <h5>💼 Rutinas Laborales</h5>
        <p>Ejercicios cortos para realizar durante tu jornada laboral.</p>
        <button class="btn btn-primary w-100" type="button" onclick="toggleSection('laboral')">
          Ver Rutinas
        </button>
        <div id="laboral" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Ejercicios de estiramiento en oficina')">Ejercicios de estiramiento en oficina</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Pausas activas de 10 minutos')">Pausas activas de 10 minutos</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Movilidad cervical y lumbar')">Movilidad cervical y lumbar</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- RUTINAS AL AIRE LIBRE -->
    <div class="col-md-4 mb-4">
      <div class="card p-3 shadow-sm h-100">
        <h5>🌳 Rutinas al Aire Libre</h5>
        <p>Aprovecha el espacio exterior para entrenar y conectar con la naturaleza.</p>
        <button class="btn btn-primary w-100" type="button" onclick="toggleSection('airelibre')">
          Ver Rutinas
        </button>
        <div id="airelibre" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Caminata + trote ligero')">Caminata + trote ligero</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Circuito de ejercicios en parque')">Circuito de ejercicios en parque</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Entrenamiento con peso corporal')">Entrenamiento con peso corporal</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- SECCIÓN DETALLADA (DINÁMICA) -->
  <div id="detalle-rutina" class="mt-5 p-4 rounded shadow-sm bg-light d-none">
    <h3 id="titulo-rutina" class="text-center mb-3"></h3>
    <p id="descripcion-rutina" class="text-center"></p>
    <hr>
    <ol id="pasos-rutina" class="list-group list-group-numbered"></ol>
  </div>
</div>

<script>
function toggleSection(id) {
  const section = document.getElementById(id);
  const allSections = document.querySelectorAll('.rutina-section');
  allSections.forEach(sec => {
    if (sec !== section) sec.classList.remove('show');
  });
  section.classList.toggle('show');
}

function mostrarRutinaDetallada(nombre) {
  const detalle = document.getElementById('detalle-rutina');
  const titulo = document.getElementById('titulo-rutina');
  const descripcion = document.getElementById('descripcion-rutina');
  const pasos = document.getElementById('pasos-rutina');
  
  const rutinas = {
    "Rutina Full Body (sin pesas)": {
      descripcion: "Ideal para trabajar todo el cuerpo desde casa sin necesidad de equipo. Se enfoca en fuerza funcional y resistencia.",
      detalles: [
        "⏱️ Duración: 25-30 minutos.",
        "📅 Frecuencia recomendada: 3-4 veces por semana.",
        "🎯 Objetivo: mejorar fuerza general y tono muscular.",
        "💪 Beneficios: fortalece el core, mejora la postura y activa todos los grupos musculares."
      ],
      pasos: [
        "Calentamiento de 5 minutos (saltos suaves o trote en el lugar).",
        "3 rondas de 15 sentadillas, 10 flexiones y 20 abdominales.",
        "Plancha durante 30 segundos al final de cada ronda.",
        "30 segundos de descanso entre rondas.",
        "Estiramientos finales de piernas y espalda (2-3 minutos)."
      ]
    },
    "Cardio 20 min en casa": {
      descripcion: "Un entrenamiento cardiovascular corto e intenso para mejorar tu resistencia sin salir de casa.",
      detalles: [
        "⏱️ Duración: 20 minutos.",
        "📅 Frecuencia: 3-5 veces por semana.",
        "🎯 Objetivo: mejorar capacidad pulmonar y quema de grasa.",
        "🔥 Beneficios: acelera el metabolismo, fortalece el corazón y libera endorfinas."
      ],
      pasos: [
        "5 minutos de calentamiento: saltos de tijera y skipping.",
        "Circuito de 4 rondas: 40s trabajo / 20s descanso.",
        "Ejercicios: jumping jacks, escaladores, burpees, sentadillas con salto.",
        "1 minuto de recuperación activa caminando en el sitio.",
        "Enfriamiento con respiración profunda y estiramientos."
      ]
    },
    "Yoga y estiramientos matutinos": {
      descripcion: "Una rutina suave para conectar mente y cuerpo al iniciar el día.",
      detalles: [
        "⏱️ Duración: 15-20 minutos.",
        "📅 Frecuencia: diaria o días alternos.",
        "🎯 Objetivo: mejorar flexibilidad y reducir estrés.",
        "🧘 Beneficios: activa la circulación, mejora la respiración y aporta calma mental."
      ],
      pasos: [
        "Postura del perro boca abajo (30s).",
        "Cobra y guerrero (30s cada lado).",
        "Torsión espinal y respiración profunda.",
        "Postura del niño y relajación final (Savasana, 2 min)."
      ]
    },
    "Ejercicios de estiramiento en oficina": {
      descripcion: "Estiramientos rápidos para aliviar tensión acumulada por largas horas de trabajo.",
      detalles: [
        "⏱️ Duración: 5-8 minutos.",
        "📅 Frecuencia: cada 2-3 horas laborales.",
        "🎯 Objetivo: evitar rigidez muscular y fatiga postural.",
        "💼 Beneficios: mejora la concentración y previene dolores musculares."
      ],
      pasos: [
        "Giros suaves de cuello (10 repeticiones).",
        "Estiramiento de hombros hacia atrás (3 veces).",
        "Torsiones de tronco en silla (10 repeticiones).",
        "Flexiones de muñeca y dedos (20 segundos cada una).",
        "Respiración controlada por 1 minuto."
      ]
    },
    "Pausas activas de 10 minutos": {
      descripcion: "Perfecta para romper la inactividad durante el trabajo o estudio prolongado.",
      detalles: [
        "⏱️ Duración: 10 minutos.",
        "📅 Frecuencia: 2 veces al día.",
        "🎯 Objetivo: activar la circulación y oxigenar el cerebro.",
        "💡 Beneficios: mejora la productividad, reduce estrés y fatiga visual."
      ],
      pasos: [
        "Camina alrededor del escritorio por 1 minuto.",
        "Haz círculos con brazos y piernas (30 segundos).",
        "Sentadillas y elevaciones de talones (3 series de 15).",
        "Estiramiento de cuello y muñecas.",
        "Respiración profunda con cierre de ojos (30 segundos)."
      ]
    },
    "Movilidad cervical y lumbar": {
      descripcion: "Movimientos controlados para aliviar rigidez y prevenir dolores musculares.",
      detalles: [
        "⏱️ Duración: 12-15 minutos.",
        "📅 Frecuencia: diaria o según necesidad.",
        "🎯 Objetivo: mantener movilidad articular y postura saludable.",
        "🩺 Beneficios: previene contracturas y mejora la flexibilidad."
      ],
      pasos: [
        "Giros lentos de cuello y hombros (10 repeticiones).",
        "Inclinaciones laterales del tronco (10 cada lado).",
        "Arqueo lumbar con manos en la cadera (15 segundos).",
        "Estiramiento completo de espalda (postura del gato y la vaca)."
      ]
    },
    "Caminata + trote ligero": {
      descripcion: "Combinación ideal de caminata y trote para mejorar resistencia sin impacto alto.",
      detalles: [
        "⏱️ Duración: 30-40 minutos.",
        "📅 Frecuencia: 3-5 veces por semana.",
        "🎯 Objetivo: mejorar resistencia cardiovascular.",
        "🌿 Beneficios: fortalece piernas, reduce estrés y mejora estado de ánimo."
      ],
      pasos: [
        "Camina 5 minutos para calentar.",
        "Alterna 5 min caminata / 3 min trote (durante 30 minutos).",
        "Respira profundamente y mantén buena postura.",
        "Estiramiento final de piernas y caderas (5 minutos)."
      ]
    },
    "Circuito de ejercicios en parque": {
      descripcion: "Usa bancos y barras del parque para un entrenamiento completo de cuerpo libre.",
      detalles: [
        "⏱️ Duración: 25-35 minutos.",
        "📅 Frecuencia: 3 veces por semana.",
        "🎯 Objetivo: fortalecer el cuerpo completo con peso corporal.",
        "💪 Beneficios: mejora coordinación, fuerza y equilibrio."
      ],
      pasos: [
        "Dominadas en barra (10 repeticiones).",
        "Fondos en banco (12 repeticiones).",
        "Abdominales en césped (20 repeticiones).",
        "Saltos al banco y descanso de 1 minuto (3 rondas).",
        "Enfriamiento y estiramiento general (5 minutos)."
      ]
    },
    "Entrenamiento con peso corporal": {
      descripcion: "Entrenamiento funcional que utiliza el peso de tu cuerpo para mejorar fuerza y control.",
      detalles: [
        "⏱️ Duración: 25 minutos.",
        "📅 Frecuencia: 3-4 veces por semana.",
        "🎯 Objetivo: ganar fuerza, resistencia y estabilidad.",
        "🏋️ Beneficios: trabaja músculos principales y mejora el control corporal."
      ],
      pasos: [
        "Calentamiento articular de 5 min.",
        "4 rondas de 12 flexiones, 15 sentadillas y 10 zancadas por pierna.",
        "Plancha abdominal de 45 segundos.",
        "Saltos al sitio o burpees durante 30 segundos.",
        "Estiramientos finales (3 minutos)."
      ]
    }
  };

  const rutina = rutinas[nombre];
  if (!rutina) return;

  titulo.textContent = nombre;
  descripcion.innerHTML = `
    <p>${rutina.descripcion}</p>
    <ul class="list-unstyled text-start mx-auto" style="max-width:600px;">
      ${rutina.detalles.map(d => `<li>${d}</li>`).join("")}
    </ul>
  `;

  pasos.innerHTML = rutina.pasos
    .map(p => `<li class="list-group-item">${p}</li>`)
    .join("");

  detalle.classList.remove("d-none");
  detalle.scrollIntoView({ behavior: "smooth" });
}
</script>
{% endblock %}
