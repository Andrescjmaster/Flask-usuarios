{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">💪 Rutinas de Entrenamiento</h2>
  <p class="text-center">Selecciona un entorno y descubre rutinas diseñadas para ese espacio.</p>

  <!-- TARJETAS DE CATEGORÍAS -->
  <div class="row mt-4">
    <!-- RUTINAS EN CASA -->
    <div class="col-md-4">
      <div class="card p-3 shadow-sm">
        <h5>🏠 Rutinas en Casa</h5>
        <p>Entrena desde la comodidad de tu hogar con poco o ningún equipo.</p>
        <button class="btn btn-primary w-100" onclick="toggleSection('casa')">Ver Rutinas</button>
        <div id="casa" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Rutina Full Body (sin pesas)')">Rutina Full Body (sin pesas)</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Cardio 20 min en casa')">Cardio 20 min en casa</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Yoga y estiramientos matutinos')">Yoga y estiramientos matutinos</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- RUTINAS LABORALES -->
    <div class="col-md-4">
      <div class="card p-3 shadow-sm">
        <h5>💼 Rutinas Laborales</h5>
        <p>Ejercicios cortos para realizar durante tu jornada laboral.</p>
        <button class="btn btn-primary w-100" onclick="toggleSection('laboral')">Ver Rutinas</button>
        <div id="laboral" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Ejercicios de estiramiento en oficina')">Ejercicios de estiramiento en oficina</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Pausas activas de 10 minutos')">Pausas activas de 10 minutos</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Movilidad cervical y lumbar')">Movilidad cervical y lumbar</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- RUTINAS AL AIRE LIBRE -->
    <div class="col-md-4">
      <div class="card p-3 shadow-sm">
        <h5>🌳 Rutinas al Aire Libre</h5>
        <p>Aprovecha el espacio exterior para entrenar y conectar con la naturaleza.</p>
        <button class="btn btn-primary w-100" onclick="toggleSection('airelibre')">Ver Rutinas</button>
        <div id="airelibre" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Caminata + trote ligero')">Caminata + trote ligero</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Circuito de ejercicios en parque')">Circuito de ejercicios en parque</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Entrenamiento con peso corporal')">Entrenamiento con peso corporal</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- SECCIÓN DETALLADA (DINÁMICA) -->
  <div id="detalle-rutina" class="mt-5 p-4 rounded shadow-sm bg-light" style="display:none;">
    <h3 id="titulo-rutina" class="text-center mb-3"></h3>
    <p id="descripcion-rutina" class="text-center"></p>
    <hr>
    <ol id="pasos-rutina" class="list-group list-group-numbered"></ol>
  </div>
</div>

<script>
function toggleSection(id) {
  const section = document.getElementById(id);
  const allSections = document.querySelectorAll('.rutina-section');
  allSections.forEach(sec => {
    if (sec !== section) sec.classList.remove('show');
  });
  section.classList.toggle('show');
}

function mostrarRutinaDetallada(nombre) {
  const detalle = document.getElementById('detalle-rutina');
  const titulo = document.getElementById('titulo-rutina');
  const descripcion = document.getElementById('descripcion-rutina');
  const pasos = document.getElementById('pasos-rutina');
  
  // Base de datos de rutinas
  const rutinas = {
    "Rutina Full Body (sin pesas)": {
      descripcion: "Ideal para trabajar todo el cuerpo desde casa sin necesidad de equipo.",
      pasos: [
        "Calentamiento de 5 minutos (saltos suaves o trote en el lugar).",
        "3 rondas de 15 sentadillas, 10 flexiones y 20 abdominales.",
        "30 segundos de descanso entre rondas.",
        "Estiramientos finales de piernas y espalda."
      ]
    },
    "Cardio 20 min en casa": {
      descripcion: "Un entrenamiento cardiovascular corto e intenso sin salir de casa.",
      pasos: [
        "5 min de calentamiento: saltos de tijera y skipping.",
        "Circuito de 4 rondas: 40s trabajo / 20s descanso.",
        "Ejercicios: jumping jacks, escaladores, burpees, sentadillas con salto.",
        "Enfriamiento con respiración profunda y estiramientos."
      ]
    },
    "Yoga y estiramientos matutinos": {
      descripcion: "Perfecto para comenzar el día con energía y equilibrio.",
      pasos: [
        "Postura del perro boca abajo (30s).",
        "Cobra y guerrero (30s cada lado).",
        "Torsión espinal y respiración profunda.",
        "Relajación final (Savasana, 1 min)."
      ]
    },
    "Ejercicios de estiramiento en oficina": {
      descripcion: "Alivia la tensión del trabajo con estiramientos sencillos.",
      pasos: [
        "Giros suaves de cuello (10 repeticiones).",
        "Estiramiento de hombros hacia atrás (3 veces).",
        "Torsiones de tronco en silla (10 repeticiones).",
        "Respiración controlada por 1 minuto."
      ]
    },
    "Pausas activas de 10 minutos": {
      descripcion: "Ejercicios rápidos para reactivar tu cuerpo y mente.",
      pasos: [
        "Camina alrededor del escritorio por 1 minuto.",
        "Haz círculos con brazos y piernas (30 segundos).",
        "Sentadillas y elevaciones de talones (3 series).",
        "Estiramiento de cuello y muñecas."
      ]
    },
    "Movilidad cervical y lumbar": {
      descripcion: "Reduce la rigidez muscular con movimientos controlados.",
      pasos: [
        "Giros lentos de cuello y hombros.",
        "Inclinaciones laterales del tronco.",
        "Arqueo lumbar con manos en la cadera.",
        "Estiramiento completo de espalda."
      ]
    },
    "Caminata + trote ligero": {
      descripcion: "Excelente rutina para mejorar tu resistencia al aire libre.",
      pasos: [
        "Camina 5 minutos para calentar.",
        "Alterna 5 min caminata / 3 min trote (30 minutos).",
        "Respira profundamente y mantén buena postura.",
        "Estiramiento final de piernas."
      ]
    },
    "Circuito de ejercicios en parque": {
      descripcion: "Aprovecha bancos y barras del parque para un circuito completo.",
      pasos: [
        "Dominadas en barra (10 repeticiones).",
        "Fondos en banco (12 repeticiones).",
        "Abdominales en césped (20 repeticiones).",
        "Saltos al banco y descanso de 1 min (3 rondas)."
      ]
    },
    "Entrenamiento con peso corporal": {
      descripcion: "Fortalece tu cuerpo usando solo tu peso y energía.",
      pasos: [
        "Calentamiento articular de 5 min.",
        "4 rondas de 12 flexiones, 15 sentadillas y 10 zancadas por pierna.",
        "Plancha abdominal de 45 segundos.",
        "Estiramientos finales."
      ]
    }
  };

  // Mostrar la rutina seleccionada
  const rutina = rutinas[nombre];
  if (!rutina) return;

  titulo.textContent = nombre;
  descripcion.textContent = rutina.descripcion;
  pasos.innerHTML = "";

  rutina.pasos.forEach(p => {
    const li = document.createElement('li');
    li.classList.add('list-group-item');
    li.textContent = p;
    pasos.appendChild(li);
  });

  detalle.style.display = "block";
  detalle.scrollIntoView({ behavior: "smooth" });
}
</script>

<style>
.list-group-item {
  background-color: #f8f9fa;
  border: none;
  margin-bottom: 5px;
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}
.list-group-item:hover {
  background-color: #e9ecef;
}
#detalle-rutina {
  animation: fadeIn 0.5s ease-in-out;
}
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>
{% endblock %}
