{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">ğŸ’ª Rutinas de Entrenamiento</h2>
  <p class="text-center">Selecciona un entorno y descubre rutinas diseÃ±adas para ese espacio.</p>

  <!-- TARJETAS DE CATEGORÃAS -->
  <div class="row mt-4">
    <!-- RUTINAS EN CASA -->
    <div class="col-md-4 mb-4">
      <div class="card p-3 shadow-sm h-100">
        <h5>ğŸ  Rutinas en Casa</h5>
        <p>Entrena desde la comodidad de tu hogar con poco o ningÃºn equipo.</p>
        <button class="btn btn-primary w-100" type="button" onclick="toggleSection('casa')">
          Ver Rutinas
        </button>
        <div id="casa" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Rutina Full Body (sin pesas)')">Rutina Full Body (sin pesas)</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Cardio 20 min en casa')">Cardio 20 min en casa</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Yoga y estiramientos matutinos')">Yoga y estiramientos matutinos</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- RUTINAS LABORALES -->
    <div class="col-md-4 mb-4">
      <div class="card p-3 shadow-sm h-100">
        <h5>ğŸ’¼ Rutinas Laborales</h5>
        <p>Ejercicios cortos para realizar durante tu jornada laboral.</p>
        <button class="btn btn-primary w-100" type="button" onclick="toggleSection('laboral')">
          Ver Rutinas
        </button>
        <div id="laboral" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Ejercicios de estiramiento en oficina')">Ejercicios de estiramiento en oficina</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Pausas activas de 10 minutos')">Pausas activas de 10 minutos</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Movilidad cervical y lumbar')">Movilidad cervical y lumbar</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- RUTINAS AL AIRE LIBRE -->
    <div class="col-md-4 mb-4">
      <div class="card p-3 shadow-sm h-100">
        <h5>ğŸŒ³ Rutinas al Aire Libre</h5>
        <p>Aprovecha el espacio exterior para entrenar y conectar con la naturaleza.</p>
        <button class="btn btn-primary w-100" type="button" onclick="toggleSection('airelibre')">
          Ver Rutinas
        </button>
        <div id="airelibre" class="rutina-section mt-3 collapse">
          <ul class="list-group">
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Caminata + trote ligero')">Caminata + trote ligero</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Circuito de ejercicios en parque')">Circuito de ejercicios en parque</li>
            <li class="list-group-item" onclick="mostrarRutinaDetallada('Entrenamiento con peso corporal')">Entrenamiento con peso corporal</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- SECCIÃ“N DETALLADA (DINÃMICA) -->
  <div id="detalle-rutina" class="mt-5 p-4 rounded shadow-sm bg-light d-none">
    <h3 id="titulo-rutina" class="text-center mb-3"></h3>
    <p id="descripcion-rutina" class="text-center"></p>
    <hr>
    <ol id="pasos-rutina" class="list-group list-group-numbered"></ol>
  </div>
</div>

<script>
function toggleSection(id) {
  const section = document.getElementById(id);
  const allSections = document.querySelectorAll('.rutina-section');
  allSections.forEach(sec => {
    if (sec !== section) sec.classList.remove('show');
  });
  section.classList.toggle('show');
}

function mostrarRutinaDetallada(nombre) {
  const detalle = document.getElementById('detalle-rutina');
  const titulo = document.getElementById('titulo-rutina');
  const descripcion = document.getElementById('descripcion-rutina');
  const pasos = document.getElementById('pasos-rutina');
  
  const rutinas = {
    "Rutina Full Body (sin pesas)": {
      descripcion: "Ideal para trabajar todo el cuerpo desde casa sin necesidad de equipo. Se enfoca en fuerza funcional y resistencia.",
      detalles: [
        "â±ï¸ DuraciÃ³n: 25-30 minutos.",
        "ğŸ“… Frecuencia recomendada: 3-4 veces por semana.",
        "ğŸ¯ Objetivo: mejorar fuerza general y tono muscular.",
        "ğŸ’ª Beneficios: fortalece el core, mejora la postura y activa todos los grupos musculares."
      ],
      pasos: [
        "Calentamiento de 5 minutos (saltos suaves o trote en el lugar).",
        "3 rondas de 15 sentadillas, 10 flexiones y 20 abdominales.",
        "Plancha durante 30 segundos al final de cada ronda.",
        "30 segundos de descanso entre rondas.",
        "Estiramientos finales de piernas y espalda (2-3 minutos)."
      ]
    },
    "Cardio 20 min en casa": {
      descripcion: "Un entrenamiento cardiovascular corto e intenso para mejorar tu resistencia sin salir de casa.",
      detalles: [
        "â±ï¸ DuraciÃ³n: 20 minutos.",
        "ğŸ“… Frecuencia: 3-5 veces por semana.",
        "ğŸ¯ Objetivo: mejorar capacidad pulmonar y quema de grasa.",
        "ğŸ”¥ Beneficios: acelera el metabolismo, fortalece el corazÃ³n y libera endorfinas."
      ],
      pasos: [
        "5 minutos de calentamiento: saltos de tijera y skipping.",
        "Circuito de 4 rondas: 40s trabajo / 20s descanso.",
        "Ejercicios: jumping jacks, escaladores, burpees, sentadillas con salto.",
        "1 minuto de recuperaciÃ³n activa caminando en el sitio.",
        "Enfriamiento con respiraciÃ³n profunda y estiramientos."
      ]
    },
    "Yoga y estiramientos matutinos": {
      descripcion: "Una rutina suave para conectar mente y cuerpo al iniciar el dÃ­a.",
      detalles: [
        "â±ï¸ DuraciÃ³n: 15-20 minutos.",
        "ğŸ“… Frecuencia: diaria o dÃ­as alternos.",
        "ğŸ¯ Objetivo: mejorar flexibilidad y reducir estrÃ©s.",
        "ğŸ§˜ Beneficios: activa la circulaciÃ³n, mejora la respiraciÃ³n y aporta calma mental."
      ],
      pasos: [
        "Postura del perro boca abajo (30s).",
        "Cobra y guerrero (30s cada lado).",
        "TorsiÃ³n espinal y respiraciÃ³n profunda.",
        "Postura del niÃ±o y relajaciÃ³n final (Savasana, 2 min)."
      ]
    },
    "Ejercicios de estiramiento en oficina": {
      descripcion: "Estiramientos rÃ¡pidos para aliviar tensiÃ³n acumulada por largas horas de trabajo.",
      detalles: [
        "â±ï¸ DuraciÃ³n: 5-8 minutos.",
        "ğŸ“… Frecuencia: cada 2-3 horas laborales.",
        "ğŸ¯ Objetivo: evitar rigidez muscular y fatiga postural.",
        "ğŸ’¼ Beneficios: mejora la concentraciÃ³n y previene dolores musculares."
      ],
      pasos: [
        "Giros suaves de cuello (10 repeticiones).",
        "Estiramiento de hombros hacia atrÃ¡s (3 veces).",
        "Torsiones de tronco en silla (10 repeticiones).",
        "Flexiones de muÃ±eca y dedos (20 segundos cada una).",
        "RespiraciÃ³n controlada por 1 minuto."
      ]
    },
    "Pausas activas de 10 minutos": {
      descripcion: "Perfecta para romper la inactividad durante el trabajo o estudio prolongado.",
      detalles: [
        "â±ï¸ DuraciÃ³n: 10 minutos.",
        "ğŸ“… Frecuencia: 2 veces al dÃ­a.",
        "ğŸ¯ Objetivo: activar la circulaciÃ³n y oxigenar el cerebro.",
        "ğŸ’¡ Beneficios: mejora la productividad, reduce estrÃ©s y fatiga visual."
      ],
      pasos: [
        "Camina alrededor del escritorio por 1 minuto.",
        "Haz cÃ­rculos con brazos y piernas (30 segundos).",
        "Sentadillas y elevaciones de talones (3 series de 15).",
        "Estiramiento de cuello y muÃ±ecas.",
        "RespiraciÃ³n profunda con cierre de ojos (30 segundos)."
      ]
    },
    "Movilidad cervical y lumbar": {
      descripcion: "Movimientos controlados para aliviar rigidez y prevenir dolores musculares.",
      detalles: [
        "â±ï¸ DuraciÃ³n: 12-15 minutos.",
        "ğŸ“… Frecuencia: diaria o segÃºn necesidad.",
        "ğŸ¯ Objetivo: mantener movilidad articular y postura saludable.",
        "ğŸ©º Beneficios: previene contracturas y mejora la flexibilidad."
      ],
      pasos: [
        "Giros lentos de cuello y hombros (10 repeticiones).",
        "Inclinaciones laterales del tronco (10 cada lado).",
        "Arqueo lumbar con manos en la cadera (15 segundos).",
        "Estiramiento completo de espalda (postura del gato y la vaca)."
      ]
    },
    "Caminata + trote ligero": {
      descripcion: "CombinaciÃ³n ideal de caminata y trote para mejorar resistencia sin impacto alto.",
      detalles: [
        "â±ï¸ DuraciÃ³n: 30-40 minutos.",
        "ğŸ“… Frecuencia: 3-5 veces por semana.",
        "ğŸ¯ Objetivo: mejorar resistencia cardiovascular.",
        "ğŸŒ¿ Beneficios: fortalece piernas, reduce estrÃ©s y mejora estado de Ã¡nimo."
      ],
      pasos: [
        "Camina 5 minutos para calentar.",
        "Alterna 5 min caminata / 3 min trote (durante 30 minutos).",
        "Respira profundamente y mantÃ©n buena postura.",
        "Estiramiento final de piernas y caderas (5 minutos)."
      ]
    },
    "Circuito de ejercicios en parque": {
      descripcion: "Usa bancos y barras del parque para un entrenamiento completo de cuerpo libre.",
      detalles: [
        "â±ï¸ DuraciÃ³n: 25-35 minutos.",
        "ğŸ“… Frecuencia: 3 veces por semana.",
        "ğŸ¯ Objetivo: fortalecer el cuerpo completo con peso corporal.",
        "ğŸ’ª Beneficios: mejora coordinaciÃ³n, fuerza y equilibrio."
      ],
      pasos: [
        "Dominadas en barra (10 repeticiones).",
        "Fondos en banco (12 repeticiones).",
        "Abdominales en cÃ©sped (20 repeticiones).",
        "Saltos al banco y descanso de 1 minuto (3 rondas).",
        "Enfriamiento y estiramiento general (5 minutos)."
      ]
    },
    "Entrenamiento con peso corporal": {
      descripcion: "Entrenamiento funcional que utiliza el peso de tu cuerpo para mejorar fuerza y control.",
      detalles: [
        "â±ï¸ DuraciÃ³n: 25 minutos.",
        "ğŸ“… Frecuencia: 3-4 veces por semana.",
        "ğŸ¯ Objetivo: ganar fuerza, resistencia y estabilidad.",
        "ğŸ‹ï¸ Beneficios: trabaja mÃºsculos principales y mejora el control corporal."
      ],
      pasos: [
        "Calentamiento articular de 5 min.",
        "4 rondas de 12 flexiones, 15 sentadillas y 10 zancadas por pierna.",
        "Plancha abdominal de 45 segundos.",
        "Saltos al sitio o burpees durante 30 segundos.",
        "Estiramientos finales (3 minutos)."
      ]
    }
  };

  const rutina = rutinas[nombre];
  if (!rutina) return;

  titulo.textContent = nombre;
  descripcion.innerHTML = `
    <p>${rutina.descripcion}</p>
    <ul class="list-unstyled text-start mx-auto" style="max-width:600px;">
      ${rutina.detalles.map(d => `<li>${d}</li>`).join("")}
    </ul>
  `;

  pasos.innerHTML = rutina.pasos
    .map(p => `<li class="list-group-item">${p}</li>`)
    .join("");

  detalle.classList.remove("d-none");
  detalle.scrollIntoView({ behavior: "smooth" });
}
</script>
{% endblock %}
